{% extends "base.html" %}
{% block content %}

<section class="container profile">
    <!-- flash message -->
    <div class="row">
        <div class="col s12 m8 offset-m2">
            {% with messages = get_flashed_messages() %}
            {% if messages %}
            {% for message in messages %}
            <h5 class="center-align flash">{{ message }}</h5>
            {% endfor %}
            {% endif %}
            {% endwith %}
        </div>
    </div>
    <!-- ./flash message -->

    <h3 class="center-align welcome-user">Welcome, <span>{{ username }}</span></h3>

    <!-- Profile -->
    <h4>My Profile</h4>

    <form class="card-panel my-profile">
        <div class="row">
            <div class="input-field col s6">
                <i class="fas fa-user-circle prefix"></i>
                <input id="name" name="name" type="text">
                <label for="name">Name</label>
            </div>
            <div class="input-field col s6">
                <i class="fas fa-user-circle prefix"></i>
                <input id="surname" name="surname" type="text">
                <label for="surname">Surname</label>
            </div>
            <div class="input-field col s12">
                <i class="fas fa-user-circle prefix"></i>
                <input id="email" name="email" type="email">
                <label for="email">Email Address</label>
            </div>
        </div>
        <div class="row">
            <button class="col s8 offset-s2 btn-large" type="submit">Edit Profile</button>
        </div>
    </form>
    <!-- ./Profile -->

    <!-- Tenancies -->
    <h4>My Tenancies</h4>
    <div class="card-panel my-tenancies">
        <div class="row">
            <div class="col">
                {% for tenancy in user_tenancies %}
                    {{ tenancy.address_1 }} <br>
                    {{ tenancy.address_2 }} <br>
                    {{ tenancy.accommodation_type }} <br>
                    {{ tenancy.start_date }} <br>
                    {{ tenancy.end_date }} <br>
                    {{ tenancy.price }} <br>
                {% endfor %}
            </div>
        </div>
        <div class="row">
            <a href="{{ url_for('add_tenancy') }}"><button class="col s8 offset-s2 btn-large">Add Tenancy</button></a>
        </div>
    </div>
    <!-- ./Tenancies -->
</section>

{% endblock %}